<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <meta name="description" content="">
        <meta name="author" content="">
        <title>Freelancer - Start Bootstrap Theme</title>
        <!-- Font Awesome icons (free version)-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js" crossorigin="anonymous"></script>
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet">
        <!-- Fonts CSS-->
        <link rel="stylesheet" href="css/heading.css">
        <link rel="stylesheet" href="css/body.css">
    </head>
    <body id="page-top">
        <nav class="navbar navbar-expand-lg bg-secondary fixed-top" id="mainNav">
            <div class="container"><a class="navbar-brand js-scroll-trigger" href="#page-top">ECE5610 Fast Robot</a>
                <button class="navbar-toggler navbar-toggler-right font-weight-bold bg-primary text-white rounded" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">Menu <i class="fas fa-bars"></i></button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#portfolio">LAB</a>
                        </li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#about">ABOUT</a>
                        </li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#contact">CONTACT</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <header class="masthead bg-primary text-white text-center">
            <div class="container d-flex align-items-center flex-column">
                <!-- Masthead Avatar Image--><img class="masthead-avatar mb-5" src="assets/img/Screenshot 2024-01-25 at 11.44.23.png" alt="">
                <!-- Masthead Heading-->
                <h1 class="masthead-heading mb-0">Yixin Zang</h1>
                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Masthead Subheading-->
                <p class="pre-wrap masthead-subheading font-weight-light mb-0">I am an ECE MEng Student at Cornell University, interested in Embedded Systems,
Control, and Robotics</p>
            </div>
        </header>
        <section class="page-section portfolio" id="portfolio">
            <div class="container">
                <!-- Portfolio Section Heading-->
                <div class="text-center">
                    <h2 class="page-section-heading text-secondary mb-0 d-inline-block">LAB Assignments</h2>
                </div>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Portfolio Grid Items-->
                <div class="row justify-content-center">
                    <!-- Portfolio Items-->
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-toggle="modal" data-target="#portfolioModal0">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div><img class="img-fluid" src="assets/img/portfolio/LOGO_large-05.jpg" alt="Lab 1"/>
                            <br>
                            <br>
                            <br>
                            <br>
                            <h5 class = "text-center">Lab 1: Bluetooth Low Energy</h5>

                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-toggle="modal" data-target="#portfolioModal1">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div><img class="img-fluid" src="assets/img/portfolio/diagram-IMU_0.jpg" alt="Lab 2"/>
                            <h5 class = "text-center">Lab 2: Inertial Measurement Unit</h5>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-toggle="modal" data-target="#portfolioModal2">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div><img class="img-fluid" src="assets/img/portfolio/distanceIcon.png" alt="Lab 3"/>
                            <br>
                            <br>
                            <br>
                            <h5 class = "text-center">Lab 3: Time-of-Flight Sensor</h5>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-toggle="modal" data-target="#portfolioModal3">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div><img class="img-fluid" src="assets/img/portfolio/dc_motor_icon.png" alt="Lab4"/>
                            <br>
                            <br>
                            <br>
                            <h5 class = "text-center">Lab 4: Motor and Open Loop Control</h5>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-toggle="modal" data-target="#portfolioModal4">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div><img class="img-fluid" src="assets/img/portfolio/PID Icon.png" alt="Locked Safe"/>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <h5 class = "text-center">Lab 5: PID Position Control</h5>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-toggle="modal" data-target="#portfolioModal5">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div><img class="img-fluid" src="assets/img/portfolio/Orientation Control.png" alt="Submarine"/>
                            <br>
                            <br>
                            <br>
                            <br>
                            <br>
                            <h5 class = "text-center">Lab 6: PID Orientation Control</h5>
                        </div>
                    </div>
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-toggle="modal" data-target="#portfolioModal6">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div><img class="img-fluid" src="assets/img/image.svg" alt="New Image"/>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!-- Portfolio Modal-->
        <div class="portfolio-modal modal fade" id="portfolioModal0" tabindex="-1" role="dialog" aria-labelledby="#portfolioModal0Label" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fas fa-times"></i></span></button>
                    <div class="modal-body text-center">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary mb-0">Lab 1: The Artemis Board and Bluetooth</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image--><img class="img-fluid rounded mb-5" src="assets/img/portfolio/LOGO_large-05.jpg" alt="Lab 1"/>
                                    <!-- Portfolio Modal - Text-->
                                    <h3>Objective</h3>
                                    <p class="modal-body text-left">The goal of Part I of the lab was to install Arudino IDE and created required Virtual envionment settings. Tested the built-in
                                        Arduino script examples to verify the functionlity of the Artemis board. In Part II, by introudcing Bluetooth Low Energy(BLE), the Artemis board
                                        was able to establish a communication channel with the computer including sending, receving information. Jupyter Notebook was operated 
                                        on the pc end and Arduino code was operated on the Artemis board end. The board advertised the MAC address and Universal Uniqle Identified(uuid) to
                                        make the connection with the computer. 
                                    </p>
                                    <h2 class = "text-center">Part A: Arduino Basics</h2>
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center">Example 1: Blink it Up</h3>
                                    <p class = "modal-body text-left">Tested the built-in LED on the Artemis board by using Blink-it-Up sketch from the exmaple files</p>
                                    <div class = "embed-container">
                                        <iframe width="560" height="315" src="https://www.youtube.com/embed/BNR9n2o8qbI?si=80HSq0oQf8iMoWvr" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                    </div>
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center">Example 2: Serial Output</h3>
                                    <p class="modal-body text-left">In this task, the board successfully transmitted the messages through the Serial port. It generates echo output based on the user inputs.</p>
                                    <img class = "img-fluid img-cetered" src="assets/img/portfolio/SerialPort.png" alt="">
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center">Example 3: Analog Read</h3>
                                    <P class = "modal-body text-left">This task demonstrated the changing of temperature measured by the built-in temperature sensor. The reading values used the analog pin.
                                        There are temperature fluctuation when the board was touched by fingers. 
                                    </P>
                                    <img class = "img-fluid img-cetered" src="assets/img/portfolio/AnalogRead.png" alt="">
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center"> Example 4: </h3>
                                    <p class = "modal-body text-left">In this example, the built-in microphone output was operating to constantly to detect the frequency of the sound in real-time using FFT.
                                         The captured loudest frequencies are shown in the picture </p>
                                    <img class = "img-fluid img-cetered" src = "assets/img/portfolio/MicOutput.png" alt="">
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class="text-center">5000-Level Extra Task: Note A Tuner</h3>
                                    <p class="modal-body text-left">Besides testing the output of the loudest frequencies, by introducing an if statement,
                                        the Artemis board was able to turn the LED on when Note A was played. The frequencies of Note A are 440Hz and 880Hz. 
                                        A plus/minus 10Hz range was implemented to have some error tolerance.
                                    </p>
                                    <img class = "img-fluid img-cetered" src = "assets/img/portfolio/NoteA.png" alt = "">
                                    <br>
                                    <br>
                                    <br>
                                    <h2 class = "text-center">Part B: Bluetooth Low Energy(BLE) Communication</h2>
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center">Prelab Setup</h3>
                                    <p class = "modal-body text-left">In order to operate the Bluetooth Low Energy Peripheral, the python vesion 
                                        was checked and updated. A virtual environment was established to have an independent workspace. A codebase was downloaded
                                        and placed in the virtual envionment directory. The virtual environment was activated and Jupyter Notebook was initialized
                                        from the terminal. In Arduino IDE, the required BLE libraries were installed and the base sketch was uploaded to the Artemis 
                                        board. In the Serial Monitor, the board's MAC address was shown below. 
                                    </p>
                                    <img class = "img-fluid img-cetered" src = "assets/img/portfolio/MACAddr.png" alt = "">
                                    <p class = "modal-body text-left"> In addition, the board's MAC address was copied and pasted to the connection.yaml file in the Jupyter
                                        Notebook end. Besides MAC address, an universal uniqle identification(UUID) was generated and changed correspondingly in the connection.yaml file.
                                        Both settings guaranteed the board did not connect to the other boards and establish the connection via Bluetooth with the computer. 
                                    </p>
                                    <img class = "img-fluid  img-cetered" src = "assets/img/portfolio/Connection.png"  alt="">
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/UUIDs.png" alt="">
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center">Task 1: ECHO</h3>
                                    <p class = "modal-body text-left">In this task, the function of ECHO command enabled the board to send the same string with appended contents "Robot says->" back to the computer after the string was sent from the computer.
                                        The string was sent from the Jupyter Notebook using Python and the sendcommand was deployed. The ECHO command was developed in the Arduino IDE. </p>
                                    <img class="img-fluid img-cetered" src = "assets/img/portfolio/Task1Arduino.png" alt="">
                                    <img class="img-fluid img-cetered" src = "assets/img/portfolio/Task1Python.png" alt="">
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center">Task 2: GET_TIME_MILLIS</h3>
                                    <p class = "modal-body text-left">This command assisted the user to collect the time data from the board. The function get.milli() was used in the Arudino to generated the time value.
                                        The value was then sent back to the computer as a string variable and printed in the Jupyter Notebook
                                    </p>
                                    <img class="img-fluid img-cetered" src = "assets/img/portfolio/Task2Ardu.png" alt="">
                                    <img class="img-fluid img-cetered" src = "assets/img/portfolio/Task2Py.png" alt="">
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center">Task 3: Notification Handler</h3>
                                    <p class = "modal-body text-left">A notification handler function was defined below. It was set as a callback function that operated in the background. When the board sent a message, 
                                        the notification handler would receive the data and print it. Therefore, the ble.receive method would be replaced by the notification handler since the handler was able to receive board's messages automatically.
                                    <img class="img-fluid img-cetered" src = "assets/img/portfolio/Task3Py.png" alt="">
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center"> Task 4: LOOP</h3>
                                    <p class = "modal-body text-left">In this task, the goal was receving the time data from the board immediatedly in a certain amount of time and used notification handler to process the time collection and print the time values. As shown in the video below,
                                        when the board generated the time data, the notification handler printed the value synchronously. In the video, there were 211 time values recevied by the computer in 5 seconds. The datarate was 42.2 data per second.  
                                    </p>
                                    <DIV class="embed-container"
                                    ><iframe width="560" height="315" src="https://www.youtube.com/embed/YuZak8ejJ6Q?si=_veeumB4lgEfrI0-" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                    </DIV>
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center"> Task 5: Time Stamp Array</h3>
                                    <p class = "modal-body text-left">In this section, the time stamp value was stored in an array using STORE_TIME_DATA command in the Arudino IDE first and then operated the SEND_TIME_DATA command to push all the time array elements to the computer via notification handler. 
                                        The whole process divided the time value communication process into two sectors: data generation and data transimission.</p>
                                    <div class = "embed-container"
                                    ><iframe width="560" height="315" src="https://www.youtube.com/embed/YuZak8ejJ6Q?si=-Nvjk0q1ME6jdrN5" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                    </div>
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center">Task 6: GET_TEMP_READINGS</h3>
                                    <p class = "modal-body text-left">Additionally, the temperature data was required to collect at each time stamp. The built-in getTempDegC() function was implemented to provide the temperature value in Celsius. There were two arrays in the GET_TIME_TEMP command.
                                         After compeleting the collection process, the two arrays were sent back to the computer as a list of strings. It was seperated via split() method in Python to extract the time and temperature information and displayed the values. 
                                   <div class = "embed-container">
                                    <iframe width="560" height="315" src="https://www.youtube.com/embed/HBEstZQRH6I?si=LVgcXYXNWsuceoVA" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                   </div>
                                   <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center">Task 7: Comparision</h3>
                                    <p class = "modal-body text-left">
                                        The major difference between the two methods is the transimission strcture. In task 4, time data generation and transimission occurred at the same process. 
                                        In task 5, the time data was collected and stored in an array and implemented another command to transmit each element to the computer. The advantage of the second method is that
                                        it reduces the delay for the string transmission during the generation process, which improve the data rate performance. The disadvantage of the array method was a fixed delay between each time 
                                        acquisition was required to avoid repeating values. 
                                        The Artimes has 384kB RAM.</p>
                                    <p class = "modal-body text-center">Convert the RAM capacity to bytes (1 kB = 1024 bytes):
                                    384 kB * 1024 bytes/kB = 393,216 bytes  
                                        
                                    Divide the total RAM capacity by the size of each data point:  
                                    93,216 bytes / 1 byte/character = 393,216 characters   
                                    </p>     
                                    
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center">Additional Task for 5000 5000-Level</h3>
                                    <p class = "modal-body text-left">
                                        In order to have a visualized information about the relation between data rate and data size, a command TEST_DATARATE was developed. It simply returned the recevied Bytes to the computer.
                                        The computer had two timers: startTime and endTime. A range from 0 to 120 Bytes with 10 Bytes increment test list was created to generated the results for the data visualization. The graph is shown below.
                                        Based on the graph, overall the data rate has a positive relation with the datasize. Therefore, larger datasize can reduce the overhead with the RAM constraints. 
                                    </p>
                                    <img class = "img-fluid img-cetered" src = "assets/img/portfolio/Task7Plot.png" alt="">
                                    <h3 class = "text-center">Reliability Discussion</h3>

                                    <p class = "modal-body text-left">
                                        According to the Task 4 video, the time values and the number of values collected were the same and there were no missing values based on the comparision between computer output and the Serial monitor. 
                                        The reliability of the data transimission from the Artemis board to the computer was confirmed. 
                                    </p>
                                    <button class="btn btn-primary" href="#" data-dismiss="modal"><i class="fas fa-times fa-fw"></i>Close Window</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-labelledby="#portfolioModal1Label" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fas fa-times"></i></span></button>
                    <div class="modal-body text-center">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary mb-0">Lab 2: Inertia Measurement Unit</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <!-- Portfolio Modal - Text-->
                                    <h3 class = "text-center">Objective</h3>
                                    <p class="mb-5">In this lab, the objective is to implement the Inertia Measurement Unit ICM20948, collect and optimize the movement data from 
                                                    accelerometer and gyroscope respectively. Analyze the data behavior in frequency domain. The lab started fromo the sensor connection as shown below.
                                    <img class="img-fluid img-cetered" src = "assets/img/portfolio/Lab2Setup.HEIC" alt="">

                                    <h3 class = "text-center">Example Code</h3>
                                    <p class = "modal-body text-left">The IMU sensor was connected to the Artemis board with the QWIIC cables. By executing the example code, the generated movement data were shown in the Serial port correspondingly</p>
                                    <div class = "embed-container"
                                    ><iframe width="419" height="745" src="https://www.youtube.com/embed/CMXfKbm41GQ" title="ECE5160 Lab2 Task 1" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                    </div>
                                    <P class = "text-left">According to the manufacturing specification, the address value AD0_VAL was changed from 1 to 0 to match the last digit of the address from the IMU board. </h3>
                                    <h3 class = "text-center">Accelerometer</h3>
                                    <P class = "text-left">In order to collect the accelerometer pitch and roll data, the two equations were used to calculate the rotations.</h3>
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/pitch_roll_eq.png" alt="">
                                    <p class = "modal-body text-left">By rotating the IMU, the pitch and roll data were reflected and displayed in the Serial Plotter as seen below. The changing of orientation/angle was visualized and shown the sinusoidal patterns</p> 
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/Accel1.png" alt="">
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/Accel2.png" alt="">
                                    <p class = "modal-body text-left">To improve the accuracy of the data, the two-point calibration was implemented. 
                                        The main idea was to calculate the caonversion factor based on the expected reference values and the actual outputs. The calibration function was seen below. </p>
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/Calibration.png" alt = "">
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/Calibration2.png" alt = "">
                                    <h3 class = "text-center">Fourier Transform Spectrum</h3>  
                                    <p class = "modal-body text-left">Before the data of accelerometer optimized, a Fourier Transform Spectrum analysis was conducted to determine the cut off frequency and compared the outcomes of the low-pass filter implementation.
                                        The blue plots displayed the pitch data frequency specturm. Clearly, without the low-pass filter, the raw data was quite noisy. The y axis scaled differently in the two plots. The amplitude fluctuation was reduced with the low pass filter. Based on the specturm, the cut-off frequency was set to 4Hz, which calculated the alpha value to be 0.408.
                                    </p>   
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/pitchWithoutLPF.png" alt="">
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/pitchWithLPF.png" alt="">
                                    <p class = "modal-body text-left">Similarly, the roll data was optimized with the low-pass filter as shown below, the noisy decreased and the signal became more consistent with less spikes</p>
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/rollWithoutLPF.png" alt="">
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/rollWithLPF.png" alt="">
                                    <h3 class = "text-center">Gyroscope Data </h3>
                                    <p class = "text-left">The gyroscope was implemented differently than the accelerometer. It measures angular velocity, so the approach involved multiplying the reading by the time step at which the control loop ran. This method generated positional angles with relatively low noise compared to the accelerometer data. However, the resulting angles tended to drift from their initial values gradually and the mistakes would be accumulated because of the integration.</p>
                                    <div class = "embed-container"
                                    ><iframe width="424" height="754" src="https://www.youtube.com/embed/1ZeEfS2va2I" title="Lab2 Gyroscope" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                    </div>
                                    <p class = "modal-body text-left">To combine the accelerometer and gyroscope data and output a more stable signal, a complimentary filter was implemented, which had a weight varaible alpha. In the arduino, the variable was called weight to determine the ratio of the data used from either 
                                        accelerometer or gyroscope. In this case, the weight was set 0.1 so that more gyroscope data was used since the accelerometer brough some noise to the output. With the complimentary filter, the output signal was smoother and less cumulative errors. 
                                    </p>
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/CompFilterArduino.png" alt="">
                                    <div class = "embed-container"
                                    ><iframe width="424" height="754" src="https://www.youtube.com/embed/Hlz7WVIzzrc" title="Lab2 Comlimentary Filter" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                    </div>
                                    <h3 class = "text-center">Sample Data</h3>
                                    <p class = "modal-body text-left">In order to increase the data collection performance, all the delays and serial prints were removed from any loops. The sampling rate increased to 35Hz. The PC end could receive the time stamp value, roll and pitch from accelerometer and gyroscope at the same time.  </p>
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/SampData.png" alt="">
                                    <button class="btn btn-primary" href="#" data-dismiss="modal"><i class="fas fa-times fa-fw"></i>Close Window</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" role="dialog" aria-labelledby="#portfolioModal2Label" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fas fa-times"></i></span></button>
                    <div class="modal-body text-center">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary mb-0">Lab3: Time of Flight(ToF) Sensor</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <!-- Portfolio Modal - Text-->
                                    <h3 class = "text-center">Objective</h3>
                                    <p class="modal-body text-left">In this lab, the goal was to implement two distance sensors and connect them to the Artemis board. The detected distance 
                                        data was analyzed, different sensor modes were tested, and a sensor placement design concept was discussed. 
                                    </p>
                                    <h3 class = "text-center">Prelab</h3>
                                    <p class="modal-body text-left"><span style="font-weight:bold;">(1) I2C Sensor Address: </span> According to the VL53L1X model datasheet, the I2C address is shown as 0x52.
                                    After uploading the "Wire-I2C" example sketch, the address was identified as 0x29 from the Serial monitor. By converting 0x29(00101001) and 0x52(01010010) to binary, we could find
                                    that the address from the serial monitor is the 1 bit right-shifted I2C address. The least significant bit was used to determine the status of reading or writing. </p>
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/ToF_I2C_Addr.png" alt="">
                                    <p class ="modal-body text-left"><span style="font-weight:bold;">(2) Multi-Sensor Compatibility: </span> In order to collect front and rear distance readings simultaneously, the I2C address of the ToF sensor must be
                                    differentiated. By modifying the address of one of the ToF sensor to 0x30 in Arduino, the address compatibility issue was solved. The code is shown below. </p>
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/ToF_Change_Addr.png" alt="">
                                    <p class ="modal-body text-left"><span style="font-weight:bold;">(3) ToF Sensor Placement:</span>After playing with the robot in lab2, one fact was determined that the robot was fliping 180 degrees relatively easily. Therefore, the field of distance measurement should have coverages 
                                    at the front and rear sides, which provide a comprehensive distance information about the robot. The distance mode for each ToF sensor can be adjust and was discussed later in the lab</p>
                                   <p  class = "modal-body text-left">To facilitate the lab procedures, a ToF connection sketch was created as the reference for soldering.</p>
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/ToF_Connect_Sketch.jpeg" alt="">
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center">Task 1: Sensor Connection</h3>
                                   <p class = "modal-body text-left">In this part, the ToF sensor pins were soldered to a QWIIC cable. According to the QWIIC datasheet, the red wire was soldered to VDD pin, and the black cable was soldered to GND pin. 
                                    SDA and SCL were soldered to the ToF sensor pins respectively. For the second sensor, the XSHUT pin was soldered directly to a GPIO pin 8 from the Artemis board so that the I2C address could be changed. After compeleting ToF sensor soldering, 
                                    two sensors were connected to the QWIIC break out board. 
                                   </p>
                                   <img class = "img-cetered img-fluid" src = "assets/img/portfolio/ToF_Soldered.HEIC" alt="">
                                   <img class = "img-cetered img-fluid" src = "assets/img/portfolio/QWIIC_Breakout.HEIC" alt="">
                                   <br>
                                   <br>
                                   <br>
                                   <h3 class = "text-center">Task 2: Test Chosen-mode</h3> 
                                   <p class = "modal-body text-left">To examine the accruacy of the sensor, the tested mode was set to short distance. Under short distance mode, the range of distance is 1.3 meters. 
                                        The tested range is from 800mm to 100mm. Based on the graph below, the ToF sensor has an excellent accuracy performance in short distance mode since the measured dataset has a high overlaping area with the reference dataset. At current stage, the short distance range provides 
                                    a relatively solid accuracy and distance coverage. Therefore, ToF sensor should implement short distance mode in later labs according to the analysis above.</p> 
                                   <img class = "img-cetered img-fluid" src = "assets/img/portfolio/ToF_Distance_Measurement.png" alt="">
                                   <h3 class = "text-center">Task 3: Two ToF Sensors</h3> 
                                   <P class = "modal-body text-left">As mentioned in the prelab section, to implement two ToF sensors and receive two different distance readings at the same time, the I2C address was required to change. After modified the I2C address, the seperated readings were displayed on the Serial monitor.</P>
                                   <img class = "img-cetered img-fluid" src = "assets/img/portfolio/ToF_Two_Readings.png" alt="">
                                   <h3 class = "text-center">Task 4: ToF Sensor Speed </h3>
                                   <p class = "modal-body text-left">To leverage the ToF sensor reading speed, the data ready were checked in the loop for two sensors respectively
                                    . The readings were generated once the data was ready. stopRanging and clearInterupt commands were removed to reduce the delay. 
                                    Two time stamps were used to calculate the loop rate, which was 8ms average. The possible limiting factors were serial print to the monitor and distance data acquisition time. 
                                   </p>
                                   <img class = "img-cetered img-fluid" src="assets/img/portfolio/ToF_Speed.png" alt="">
                                   <br>
                                   <br>
                                   <br>
                                   <h3 class = "text-center"> Task 5: Time vs Distance</h3>
                                   <p class = "modal-body text-left">Similar to lab2, the ToF sensor data was required to transmit to the computer via BLE. A case called GET_TOF was developed to collect the ToF data and send the arrays via BLE. By generating the plot, we could see the ToF readings were visualized and transmitted successfully.</p>
                                   <img class = "img-cetered img-fluid" src = "assets/img/portfolio/GET_TOF.png" alt="">
                                   <img class = "img-cetered img-fluid" src = "assets/img/portfolio/ToF_Plot.png" alt="">
                                   <br>
                                   <br>
                                   <br>
                                   <h3 class = "text-center"> Task 6: IR Sensor Discussion</h3>
                                   <p class = "modal-body text-left">Infrared light, being invisible, permeates our daily environment and can significantly influence infrared sensors. Thus, when designing such sensors, it is imperative to select a specific wavelength of infrared light to minimize interference. Moreover, it is advisable to avoid deploying these sensors in areas with strong light sources. The TOF sensor, particularly, tends to exhibit superior performance under low-light conditions.

                                    In the experimentation conducted with various reflective surfaces, minimal impact on the sensor's results was observed irrespective of the color of the surface. While darker objects theoretically absorb more light and should produce less return energy, this effect was not evident in practice. Notably, the sensor demonstrated the ability to penetrate glass-like surfaces, enabling measurement of the distance to objects situated behind the glass, which is undesirable. This issue may be less prevalent with ultrasonic distance sensors due to the differing properties of electromagnetic and mechanical waves.</p>
                                   <button class="btn btn-primary" href="#" data-dismiss="modal"><i class="fas fa-times fa-fw"></i>Close Window</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="portfolio-modal modal fade" id="portfolioModal3" tabindex="-1" role="dialog" aria-labelledby="#portfolioModal3Label" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fas fa-times"></i></span></button>
                    <div class="modal-body text-center">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary mb-0">Lab4: Motor and Open Loop Control</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <!-- Portfolio Modal - Text-->
                                    <h3 class = "text-center">Objective</h3>
                                    <p class="modal-body text-left">The goal of this lab was to integrate two dual motor drivers to the Artemis and connect dc motors to implement the open loop control of the robot. 
                                        The motors were triggered by PWM signals to control the motion. 
                                    </p>
                                    <h3 class = "text-center">Prelab</h3>
                                    <p class="modal-body text-left"><span style="font-weight:bold;">(1) Assembly connection diagram:  
                                </span>As the pictures shown below, the actual wiring process was
                                based on the designed connections. As discussed in the lecture, by shorting the four pairs of pin: BIN1 and AIN2, BIN2 and AIN2, BOUT1 and AOUT2, BOUT2 and AOUT2
                                , the artemis was able to utilize two pins to conect the motor driver and control the motor, also increased the current two times greater than the original design. All the input pins 
                                were soldered to the Artemis board using pin 13, 12, 6, and 7. According to the datasheet of Artemis nano, except pin 8 and 10, other I/O pins are capable to generate PWM signals.
                                In order to create the bridge between pin pairs, several short length wires were soldered to connect them together. Following the diagram, the motor battery was connected to the GND and VIN pins for both 
                                motor drivers in series. </p>
                                <img class = "img-cetered img-fluid" src = "assets/img/portfolio/motor_driver_connection.jpg" alt="" >
                                <img class = "img-cetered img-fluid" src = "assets/img/portfolio/motordriver_solder.HEIC" alt="">    
                                <br>
                                <br>
                                <p class="modal-body text-left"><span style="font-weight:bold;">(1) Two Power Supply:  
                                </span> The main reason of using two 850mAh batteries for the motors and the Artemis board independently was to isolate and protect the system from potential interferences. 
                                The motors have relatively greater power draw from the battery. The second battery powering the Artemis can maintain the remote controllability of the robot. The design 
                                seperates the control module and acturator module to avoid unexpected Artemis shutdown due to battery poewr depletion. </p>
                                
                                <h3 class = "text-center">PWM Signal Generation and Demonstration</h3>   
                                <p class = "modal-body text-left">After compeleting the motor driver soldering, the verification of PWM was required to check that PWM signal was able to be output and recevied successfully
                                    . In order to implement the verification, the motor driver was powered by an external power supply with the 3.7V output, which is the same voltage output as the battery. The ground pin was hooked with the power supply ground cable.
                                    The input pin from the motor driver was connected to the oscilloscope. The PWM generation code was uploaded to the Artemis board. It initalized the GPIO values with the corresponding soldered pins.
                                    The analogWrite() function generated a PWM signal from the board to the motor driver. The duty cycle was set to 127/255, which provided an average of 50% output voltage. By verifing the wave form from
                                    the oscilloscope, there was half of the time the voltage was set to high. Therefore, the PWM signal matched the expected value. 
                                </p>
                                <img class = "img-cetered img-fluid" src = "assets/img/portfolio/oscilloscope_setup.HEIC" alt="">
                                <img class = "img-cetered img-fluid" src="assets/img/portfolio/PWM_verify_code.png" alt="">
                                <img class = "img-cetered img-fluid" src="assets/img/portfolio/PWM_oscilloscope.HEIC" alt="">
                                <br>
                                <br>
                                <br>
                                <br>
                                <h3 class = "text-center">Motor Testing</h3>
                                <p class = "modal-body text-left">After assessing the PWM signal generation, the original control board was replaced and the motor driver was soldered to the Artemis and motor with
                                    designated pins. To test the motor functionality, the below code was uploaded to the Artemis to check if the motor could rotate clockwisely and counter clockwisely. The motor spining 
                                    speed was determined by the duty cycle. The value was set to 100 and the motor was spining relatively fast. The video demonstrated the motor was able to rotate in two directions properly. 
                                </p>
                                <img class = "img-cetered img-fluid" src="assets/img/portfolio/right_motor_test.png" alt="">
                                <div class = "embed-container"
                                ><iframe width="420" height="747" src="https://www.youtube.com/embed/QautTjrz4mo" title="ECE5160 Lab4 One Motor Spining" 
                                    frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                </div>
                                <p class = "modal-body text-left">The left motor was soldered to the motor driver and the Artemis after the right motor was verified. The wires and components were organized
                                    and firmly mounted to the chassis. The layout of the robot is shown below. </p>
                                <img class = "img-cetered img-fluid" src="assets/img/portfolio/lab4_car_layout.jpg" alt="">
                                <br>
                                <br>
                                <br>
                                <h3 class = "text-center">Lower Limit PWM Value</h3>
                                <p class = "modal-body text-left">To better understand the relation between motor torque and PWM value, the minimum limit was explored. After multiple testing, the lowest values to 
                                    move the robot for right and left motors were determined as 25 and 36 respectively.</p>
                                <img class = "img-cetered img-fluid" src="assets/img/portfolio/lowest_pwm.png" alt="">
                                <div class = "embed-container" >
                                    <iframe width="420" height="747" src="https://www.youtube.com/embed/AVDDrt7vk7Q" title="ECE5160 Lab4 Lowest Start PWM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                </div>
                                <br>
                                <br>
                                <br>
                                <h3 class = "text-center">Straightline Calibration and Open Loop Control</h3>
                                <p class = "modal-body text-left">The calibration process was conducted firstly by driving the robot in straight line for roughtly 2 feet. Due to nature of torque difference between
                                     two motors, the same PWM value did not generate the same torque. Therefore, when both PWM pins were set to 100, the robot behaved to turn right. Based on this observation, the right motor 
                                     generated larger torque than the left motor. The left motor PWM value was added 10 for the first three experiments. The right-turning trend had reduced. The PWM increment was changed to 5 for each 
                                     experiment. The left PWM value was set to 150 in the end, which was capable to provide similar torque as the right motor. The ratio of left motor PWM and the right motor PWM was set to 1.5. According to the video,
                                     the robot was driving a straight line for around 9 bricks, which is roughly 270cm. Thus, the calibration met the straight line requirements. 
                                </p>
                                <img class = "img-cetered img-fluid" src="assets/img/portfolio/straightline_code.png" alt="">
                                <div class = "embed-container">
                                    <iframe width="420" height="747" src="https://www.youtube.com/embed/m2RRKyvVht8" title="ECE5160 Lab4 Straight Line Calibration" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                </div>
                                <p class = "modal-body text-left">The open loop control was implemented by controlling the car to forward, rotate and forward to the starting line. The video demonstrated the robot was able to execute the preset commands properly. </p>
                                <img class = "img-cetered img-fluid" src="assets/img/portfolio/openloop_code.png" alt="">
                                <div class = "embed-container">
                                    <iframe width="420" height="747" src="https://www.youtube.com/embed/p-xY0QgSky0" title="ECE5160 Lab4 Open Loop Control" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                </div>
                                <br>
                                <br>
                                <br>
                                <h3 class = "text-center">5000 Level Extra Tasks</h3>
                                <p class="modal-body text-left"><span style="font-weight:bold;">(1) PWM mannual configuration discussion:
                                </span>As the frequency reading shown from the oscilloscope, the default PWM frequency is 182Hz. The PWM frequency is able to support robot fast executions, which is shown in the above open loop control video. The PWM frequency could be
                                    modified in Arudino. However, the default frequency is generated by the clock. It is a hardware signal generated by the crystal oscillator. Using software to configure the PWM frequency could increase the signal rate but it sacrifices the stability of the frequency. </p>
                                <img class = "img-cetered img-fluid" src = "assets/img/portfolio/PWM_oscilloscope.HEIC" alt="">
                                <p class="modal-body text-left"><span style="font-weight:bold;">(2) Slowest Motion PWM value discussion:
                                </span>In order to determine the minimal value of PWM to overcome the non-static friction of the robot, the following code was uploaded. Each iteration, the robot would reduce the PWM signal by 1 with the initial value of 30 for the right motor and 35 for the left motor. 
                                    The final values were determined when the robot was fully stationary. An external clock was used to check the number of iterations for the final calculations. The final values were 24 for the right and 29 for the left motors since there were 6 iterations. 
                                <img class = "img-cetered img-fluid" src = "assets/img/portfolio/nonstatic_lowest_pwm.png" alt=""> 
                                <div class = "embed-container" >
                                    <iframe width="420" height="747" src="https://www.youtube.com/embed/C1GE0CF3sIQ" title="ECE5160 Lab4 Slowest PWM in motion" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                </div>
                                <br>
                                <br>
                                <br>                           
                                <button class="btn btn-primary" href="#" data-dismiss="modal"><i class="fas fa-times fa-fw"></i>Close Window</button>
 
                            </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="portfolio-modal modal fade" id="portfolioModal4" tabindex="-1" role="dialog" aria-labelledby="#portfolioModal4Label" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fas fa-times"></i></span></button>
                    <div class="modal-body text-center">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary mb-0">Lab5: PID Position Control</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <!-- Portfolio Modal - Text-->
                                    <p class="mb-5">In this lab, the objective was to implement PID controller to the robot and control the robot remotely. The specific task of the position control was to drive the robot towards 
                                        a wall and stop at distance around 30.4 cm. P, PI, and PID controllers were set, tuned and tested. The analysis was conducted based on the data collection and plots. </p>
                                    <h3 class = "text-center">Prelab</h3>
                                    <p class = "modal-body text-left">In order to achieve the data collection from the front Time-of-Flight Sensor, three arrays were instantiated first including 
                                        time stamp array, ToF distance array, and PWM output array in Arudino. Each element with the same index were appended to estring and transimtted via BLE. Then the data was extracted to form lists on PC using a callback function in Python.
                                        The code is shown below. 
                                    </p>
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/lab5 send data.png" alt="">
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/lab5 Python callback.png" alt="">
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center">PID Implementation</h3>
                                    <p class = "modal-body text-left">The PID equations were developed in Arudino to reflect the updating errors and corresponding PWM output to the motors. For the intergral component, an error limit was set to achieve wind-up protection since the intergrated error could increase unexpectedly. 
                                        For the PWM output, minimal outputs were determmined based on the result of deadband PWM value from lab4.
                                        When the PWM output is over the maximum 255, the value would be set to lower than 255 to protect the motor. The backward PWM had a 1.2 coefficient to speed up the hard stop action. 
                                          </p>
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/lab5 pid equation.png" alt="">
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/lab5 PID motor.png" alt="">
                                    <br>
                                    <br>
                                    <br>
                                    <p class = "modal-body text-left">In order to change the Kp, Ki, Kd values more efficently and flexibly, SET_PID command was implemented in Arudino which allowed the direct update from PC </p>
                                    <img class = "img-cetered img-fluid" src="assets/img/portfolio/lab5 set pid.png" alt="">
                                    <img class = "img-cetered img-fluid" src="assets/img/portfolio/lab5 set pid python.png" alt="">
                                    <br>
                                    <br>
                                    <br>
                                    <p class = "modal-body text-left">P controller was chose first for the direct proportional control and achieved the linear effect to the distance errors. A higher Kp value would cause a more aggresive response with the tradeoff of overshooting.
                                        According to the maximum distance error 4000mm and the maximum PWM value 255, a starting logical guess was around 0.06. Due to the motor torque differences, after multiple attempts, a signle P controller was applied with a Kp value set to 0.03, which successfully stopped the robot before hitting the wall.  </p>
                                    
                                    <div class = "embed-container"><iframe width="420" height="747" src="https://www.youtube.com/embed/Dd8GET-SwvE" title="ECE5160 Lab5 P Controller" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe></div>
                                    <p class ="modal-body text-left">As the video demonstrated, even though the robot stopped and adjusted the position against the wall, it had a relatively large overshooting and strong oscillation. To better visualize the robot behavior, a distance versus time plot was generated
                                        to indicate the oscillation behavior and overshooting issue. 
                                    </p>
                                    <img class = "img-cetered img-fluid" src="assets/img/portfolio/lab5 P controller ToF.png" alt="">
                                    <img class = "img-cetered img-fluid" src="assets/img/portfolio/lab5 P control PWM.png" alt="">
                                    <br>
                                    <br>
                                    <br>
                                    <p class = "modal-body text-left">The optimization step was then decided by introducing the derivative component to the controller. Under the PD controller, the robot converged to the setpooint wiht less overshoot by decresing the Kp value, and smoothed the oscillation considerably with the support of dampening the system.   </p>
                                    <div class = "embed-container">
                                        <iframe width="420" height="747" src="https://www.youtube.com/embed/woM_WwgVwzg" title="ECE5160 Lab5 PD Controller" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                    </div>
                                    <p class = "modal-body text-left">According to the video and following plots, the robot behavior was improved with significantly shorter overshoot and less degree of oscillation. The PWM output plots between P and PD controller demonstrated a distinctive difference. </p>
                                    <img class = "img-cetered img-fluid" src="assets/img/portfolio/lab5 PD ToF.png" alt="">
                                    <img class = "img-cetered img-fluid" src="assets/img/portfolio/lab5 PD PWM.png" alt ="">
                                    <p class = "modal-body text-left">Integral control is crucial for eliminating the steady-state error that proportional control alone cannot address. Ki integrates the error over time, offering a correction that grows as long as an error exists. </p>
                                    <div class = "embed-container">
                                        <iframe width="420" height="747" src="https://www.youtube.com/embed/MR20Qbqawsk" title="ECE 5160 Lab5 PID Controller" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                    </div>
                                    <img class = "img-cetered img-fluid" src="assets/img/portfolio/lab5 PID ToF.png" alt ="">
                                    <img class = "img-cetered img-fluid" src="assets/img/portfolio/lab5 PID PWM.png" alt="">
                                    <p class = "modal-body text-left">The final tuning of PID controller showed the fast, stable and robust controllability of the robot. Therefore, the robot was capable to position itself at a setpoint based on the front ToF sensor only. </p>
                                    <h3 class ="text-center">Extrapolation</h3>
                                    <p class = "modal-body text-left">The purpose of extrapolation was to leverage the distance measuring efficency when the Artemis did not recieve the distance value from the ToF sensor. The estimation was based on the principle of linear estimation. The predicted point was calcualted by the slope and the corresponding time step using previous measurement data. The process increased the amount of data remarkably. 
                                        The control system could adjust its outputs based on estimated current distances rather than waiting for the next sensor update. This can make the system more responsive to changes.
                                    </p>
                                    <div class = "embed-container">
                                        <iframe width="420" height="747" src="https://www.youtube.com/embed/Y8qV5g2vSQk" title="ECE5160 Lab5 Extrapolation" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                                    </div>
                                    <img class = "img-cetered img-fluid" src="assets/img/portfolio/lab5 extrapolation ToF.png" alt="">
                                    <img class = "img-cetered img-fluid" src="assets/img/portfolio/lab5 extrapolation PWM.png" alt="">
                                    
                                    <button class="btn btn-primary" href="#" data-dismiss="modal"><i class="fas fa-times fa-fw"></i>Close Window</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="portfolio-modal modal fade" id="portfolioModal5" tabindex="-1" role="dialog" aria-labelledby="#portfolioModal5Label" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fas fa-times"></i></span></button>
                    <div class="modal-body text-center">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary mb-0">Lab6: Orientation Control</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Text-->
                                    <p class="mb-5">In this lab, we also implemented PID controller to rotate the robot to the desired orientation. The orientation was determined based on IMU readings. 
                                        Multiple controllers were implemented, tested and compared. 
                                    </p>
                                    <h3 class = "text-center">Prelab</h3>
                                    <p class = "modal-body text-left">Similar to the lab5 content, in order to escalate troubleshooting and debugging processes, time stamps, orientation readings and PWM output were recorded and sent over bluetooth</p>
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/lab6 arduino send data.png" alt="">
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/lab6 python handle data.png" alt="">
                                    <br>
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center">PID Pre Implementation</h3>
                                    <p class = "modal-body text-left">Before the implementation of PID, to simplify the PID tuning process, the Kp, Ki, Kd parameters were set to global variables which allowed a direct change from the laptop. For the constant command receiving objective, the function was placed inside the main loop. The main body of the PID controller had the similar structure as we implemented in lab5.
                                        The major difference was the measuring data came from IMU. Since the IMU recorded the acceleration rather than the actual angle. A derivative terms was added to calculate the estimated orientation. The sampling time was set to 10 seconds which was enough to the controlling action. 
                                    </p>
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/lab6 IMU measurement.png" alt="">
                                    <br>
                                    <br>
                                    <h3 class = "text-center">P Controller</h3>
                                    <p class = "modal-body text-left">The P controller was first implemented and the goal was to rotate the robot 90 degrees and remain in the stationary spot. Using a P controller, the Kp value was tested and tuned. 
                                        Based on the PWM output which generated based on the calculation of the error, the Kp value was set to 0.8 which provided a steady state behavior. 
                                    </p>
                                    <div class = "embed-container">
                                        <iframe width="420" height="747" src="https://www.youtube.com/embed/iAZ1IWBlJR4" title="lab 6 orientation P controller" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                                    </div>
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/lab6 P controller yaw.png" alt="">
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/lab6 P controller PWM.png" alt="">
                                    <p class = "modal-body text-left">According to the video and plots, P controller had a relatively low response time to reach steady state and there was excessive oscillation after reaching the steady state. </p>
                                    <h3 class = "text-center">PI Controller and Wind Up protection (5000 level)</h3>
                                    <p class = "modal-body text-left">The integral term was added to the controller output calculation. By introducing the integrated error over time, the response time was increased with the tradeoff of overshooting that is shown in the yaw plot.
                                         In order to prevent the integral term dominants the error term, and output, the upper limit and lower limit were set to 200 and -200 respectively. The final Kp and Ki values were 0.8 and 0.15</p>
                                    
                                    <div class = "embed-container">
                                        <iframe width="420" height="747" src="https://www.youtube.com/embed/z7a_i1C5eUM" title="lab6 PI controller" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                                    </div>
                                    <img class = "img-cetered img-fluid" src="assets/img/portfolio/lab6 PI controller yaw.png" alt="">
                                    <img class = "img-cetered img-fluid" src="assets/img/portfolio/lab6 PI controller PWM.png" alt="">
                                    <br>
                                    <br>
                                    <br>
                                    <h3 class = "text-center">PID Controller</h3>
                                    <p class = "modal-body text-left">By bringing the derivative term to predict the errors, the oscillation were reduced. The overshooting were optimized by reducing the Ki value and increasing the Kp value. The PWM plot indicated the controlling action to smooth the control. The yaw plot also demonstrated the optimization of turning the PID parameters. </p>
                                    <div class = "embed-container">
                                        <iframe width="420" height="747" src="https://www.youtube.com/embed/i_0MYqoHIfc" title="lab6 PID controller" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
                                    </div>
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/lab6 PID controller yaw.png" alt="">
                                    <img class = "img-cetered img-fluid" src = "assets/img/portfolio/lab6 PID controller PWm.png" alt="">
                                    <button class="btn btn-primary" href="#" data-dismiss="modal"><i class="fas fa-times fa-fw"></i>Close Window</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="portfolio-modal modal fade" id="portfolioModal6" tabindex="-1" role="dialog" aria-labelledby="#portfolioModal6Label" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close"><span aria-hidden="true"><i class="fas fa-times"></i></span></button>
                    <div class="modal-body text-center">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary mb-0">New Image</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image--><img class="img-fluid rounded mb-5" src="assets/img/image.svg" alt="New Image"/>
                                    <!-- Portfolio Modal - Text-->
                                    <p class="mb-5">New Image Description</p>
                                    <button class="btn btn-primary" href="#" data-dismiss="modal"><i class="fas fa-times fa-fw"></i>Close Window</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <section class="page-section bg-primary text-white mb-0" id="about">
            <div class="container">
                <!-- About Section Heading-->
                <div class="text-center">
                    <h2 class="page-section-heading d-inline-block text-white">ABOUT</h2>
                    <p class = "text-center">This course focuses on systems level design and implementation of dynamic autonomous robots. We will design a fast autonomous car and explore dynamic behaviors, acting forces, sensors, and reactive control on an embedded processor, as well as the benefit of partial off-board computation, 
                        low latency software, and noise tolerant implementation.</h5>
                </div>
                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- About Section Content-->
                <div class="row">
                    <div class="col-lg-4 ml-auto">
                        <p class="pre-wrap lead"> </p>
                    </div>
                    <div class="col-lg-4 mr-auto">
                        <p class="pre-wrap lead"> </p>
                    </div>
                </div>
            </div>
        </section>
        <section class="page-section" id="contact">
            <div class="container">
                <!-- Contact Section Heading-->
                <div class="text-center">
                    <h2 class="page-section-heading text-secondary d-inline-block mb-0">CONTACT</h2>
                </div>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Contact Section Content-->
                <div class="row justify-content-center">
                    <div class="col-lg-4">
                        <div class="d-flex flex-column align-items-center">
                            <div class="icon-contact mb-3"><i class="far fa-envelope"></i></div>
                            <div class="text-muted">Email</div><a class="lead font-weight-bold" href="mailto:yz2874@cornell.edu">yz2874@cornell.edu</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <footer class="footer text-center">
            <div class="container">
                <div class="row">
                    <!-- Footer Location-->
                    <div class="col-lg-4 mb-5 mb-lg-0">
                        <h4 class="mb-4">LOCATION</h4>
                        <p class="pre-wrap lead mb-0">Philips Hall, Electrical and Computer Engineering Department, Cornell University </p>
                    </div>
                    <!-- Footer Social Icons-->
                    <div class="col-lg-4 mb-5 mb-lg-0">
                        <h4 class="mb-4">AROUND THE WEB</h4><a class="btn btn-outline-light btn-social mx-1" href="https://www.facebook.com/StartBootstrap"><i class="fab fa-fw fa-facebook-f"></i></a><a class="btn btn-outline-light btn-social mx-1" href="https://www.twitter.com/sbootstrap"><i class="fab fa-fw fa-twitter"></i></a><a class="btn btn-outline-light btn-social mx-1" href="https://www.linkedin.com/in/startbootstrap"><i class="fab fa-fw fa-linkedin-in"></i></a><a class="btn btn-outline-light btn-social mx-1" href="https://www.dribble.com/startbootstrap"><i class="fab fa-fw fa-dribbble"></i></a>
                    </div>
                    <!-- Footer About Text-->
                    <div class="col-lg-4">
                        <h4 class="mb-4"></h4>
                        <p class="pre-wrap lead mb-0"> </p>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Copyright Section-->
        <section class="copyright py-4 text-center text-white">
            <div class="container"><small class="pre-wrap">Copyright  Yixin Zang </small></div>
        </section>
        <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes)-->
        <div class="scroll-to-top d-lg-none position-fixed"><a class="js-scroll-trigger d-block text-center text-white rounded" href="#page-top"><i class="fa fa-chevron-up"></i></a></div>
        <!-- Bootstrap core JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
        <!-- Third party plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
        <!-- Contact form JS-->
        <script src="assets/mail/jqBootstrapValidation.js"></script>
        <script src="assets/mail/contact_me.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>